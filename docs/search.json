[
  {
    "objectID": "Modeling.html",
    "href": "Modeling.html",
    "title": "Modeling",
    "section": "",
    "text": "Introduction\n\n\nLogistic Regression Models\n\n\nClassification Tree\n\n\nRandom Forest\n\n\nFinal Model Selection"
  },
  {
    "objectID": "Modeling.html#quarto",
    "href": "Modeling.html#quarto",
    "title": "Modeling",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "Modeling.html#running-code",
    "href": "Modeling.html#running-code",
    "title": "Modeling",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "EDA",
    "section": "",
    "text": "Introduction\nThis project uses the Diabetes Health Indicators, which includes over 250,000 observations from the 2015 Behavioral Risk Factor Surveillance System (BRFSS). Each observation represents an individual and includes a variety of health-related variables:\n\nDiabetes_binary: Indicates whether the individual has been diagnosed with diabetes (our response variable)\nBMI: Body Mass Index\nPhysActivity: Whether the individual has engaged in physical activity in the last 30 days (not including job)\nHighBP: Whether the individual has high blood pressure\nThere are 18 more variables, but they will be excluded from this project for simplicity.\n\nThe goal of this exploratory data analysis (EDA) is to better understand the distribution and relationships between key health indicators and diabetes status. This includes examining individual variable distributions and how each potential predictor relates to the outcome.\nOur ultimate objective is to develop a model that can reasonably predict whether an individual is likely to have diabetes based on these health indicators. By identifying meaningful patterns and associations during EDA, we aim to inform our modeling decisions and improve predictive accuracy. We will create 3 different types of models and select the best model from each model type. After that, we will compare these models and pick the overall best model.\nOur response variable will be Diabetes_binary and the 3 selected predictors are: BMI, PhysActivity, and HighBP. Studies have shown strong links between these variables and diabetes outcomes. For example, this article by Mokdad et al. (2005) published in Diabetes Care highlights how obesity and inactivity contribute significantly to the prevalence of diabetes. This article also mentions that blood pressure is connected to diabetes.\n\n\nData\n\n# Load packages\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(scales)\n\n\n# Read in the data\ndiabetes_data &lt;- read.csv(\"diabetes_binary_health_indicators_BRFSS2015.csv\")\n\n# Pick response and variables to be investigated and mutate them appropriately\ndiabetes_data &lt;- diabetes_data[, c(\"Diabetes_binary\", \"BMI\", \"PhysActivity\", \"HighBP\")] %&gt;%\n    mutate(\n    Diabetes_binary = factor(Diabetes_binary, levels = c(0, 1), labels = c(\"No Diabetes\", \"Diabetes\")),\n    PhysActivity = factor(PhysActivity, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n    HighBP = factor(HighBP, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\n  )\nhead(diabetes_data)\n\n  Diabetes_binary BMI PhysActivity HighBP\n1     No Diabetes  40           No    Yes\n2     No Diabetes  25          Yes     No\n3     No Diabetes  28           No    Yes\n4     No Diabetes  27          Yes    Yes\n5     No Diabetes  24          Yes    Yes\n6     No Diabetes  25          Yes    Yes\n\n#check for missing values\nany(is.na(diabetes_data))\n\n[1] FALSE\n\n\nExcellent! There are no missing values and our variable classifications make sense!\n\n\nSummarizations\nFirst, let’s just produce some basic statistics about each variable.\n\nsummary(diabetes_data)\n\n    Diabetes_binary        BMI        PhysActivity HighBP      \n No Diabetes:218334   Min.   :12.00   No : 61760   No :144851  \n Diabetes   : 35346   1st Qu.:24.00   Yes:191920   Yes:108829  \n                      Median :27.00                            \n                      Mean   :28.38                            \n                      3rd Qu.:31.00                            \n                      Max.   :98.00                            \n\n\nWe can see that around 15% of the individuals in this study have diabetes. This should be a sufficient proportion to allow for meaningful predictions.\nFor BMI, our mean is 1 point higher than our median, suggesting a slight right skew. We will look into this further. Considering the Normal range for BMI is 18.5-25, our mean is above normal (28.38) and our 1st quartile is barely within normal at 24. This suggest that our population is largely over weight, which aligns with national statistics from the US.\nPhysical activity is consistent with expectations: about one-fourth of participants reported no physical activity in the last 30 days. High blood pressure is prevalent, with over 40% of the sample having it.\nNow, let’s look at the distribution of BMI.\n\n# Histogram of BMI\nggplot(diabetes_data, aes(x = BMI)) +\n  geom_histogram(binwidth = 2, fill = \"steelblue\") +\n  labs(title = \"Distribution of BMI\")\n\n\n\n\n\n\n\n\nWe can now confirm that our BMI data has a right skew. While extreme BMI values (above 50) do exist, they are relatively rare. This supports the idea that the dataset is broadly representative but includes some outliers.\nNow, let’s plot physical activity.\n\n# Bar plot of PhysActivity\nggplot(diabetes_data, aes(x = PhysActivity)) +\n  geom_bar(fill = \"darkgreen\") +\n  labs(title = \"Physical Activity Distribution\", x = \"Physical Activity in the Last 30 Days\")\n\n\n\n\n\n\n\n\nThe physical activity bar plot shows that roughly 75% of the population is active.\nLet’s briefly plot and look at high blood pressure.\n\nggplot(diabetes_data, aes(x = HighBP, fill = HighBP)) +\n  geom_bar() +\n  labs(\n    title = \"High Blood Pressure Distribution\",\n    x = \"High Blood Pressure\",\n    y = \"Count\"\n  ) +\n  scale_fill_manual(values = c(\"No\" = \"steelblue\", \"Yes\" = \"firebrick\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nNow we have a visual representation of high blood pressure counts. Again, we can see that just under half of our sample has high blood pressure.\nNow let’s make a boxplot for BMI and diabetes.\n\n# BMI vs. Diabetes\nggplot(diabetes_data, aes(x = Diabetes_binary, y = BMI)) +\n  geom_boxplot(fill = \"lightblue\") +\n  labs(title = \"BMI by Diabetes Status\", x = \"Diabetes Status\", y = \"BMI\")\n\n\n\n\n\n\n\n\nWe can see that the diabetes quartiles have slightly higher BMI. Maybe we can see this relationship better with a different plot.\nLet’s bin BMI as typical ranges: Underweight (less than 18.5), Normal (18.5-25), Overweight (25-3), Obese (30+). I added counts for each bin since we know that our BMI data is not evenly distributed into each bin.\n\n# Create bins for classification ranges\ndiabetes_data &lt;- diabetes_data %&gt;%\n  mutate(BMI_category = case_when(\n    BMI &lt; 18.5 ~ \"Underweight\",\n    BMI &gt;= 18.5 & BMI &lt; 25 ~ \"Normal\",\n    BMI &gt;= 25 & BMI &lt; 30 ~ \"Overweight\",\n    BMI &gt;= 30 ~ \"Obese\"\n  )) %&gt;%\n  mutate(BMI_category = factor(BMI_category, levels = c(\"Underweight\", \"Normal\", \"Overweight\", \"Obese\")))\n\n# Get total counts per BMI category\nbmi_counts &lt;- diabetes_data %&gt;%\n  count(BMI_category) %&gt;%\n  mutate(label_y = 1.05)\n\n# Plot with proportion bars and count labels\nggplot(diabetes_data, aes(x = BMI_category, fill = Diabetes_binary)) +\n  geom_bar(position = \"fill\") +\n  geom_text(\n    data = bmi_counts,\n    aes(x = BMI_category, y = label_y, label = paste0(\"n = \", n)),\n    inherit.aes = FALSE\n  ) +\n  scale_y_continuous(labels = percent_format(), limits = c(0, 1.1)) +\n  labs(\n    title = \"Diabetes Rate by BMI Category\",\n    x = \"BMI Category\",\n    y = \"Proportion\",\n    fill = \"Diabetes\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nIn the above plot we can now see a clear increase in proportion with Diabetes for Overweight individuals and an even greater increase for Obese individuals. This should be a strong predictor in our models.\nLet’s look at physical activity in relation to diabetes to see if it might also be a strong predictor.\n\n# PhysActivity vs. Diabetes\nggplot(diabetes_data, aes(x = PhysActivity, fill = Diabetes_binary)) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Diabetes Rate by Physical Activity\", x = \"Physical Activity\", y = \"Proportion\", fill = \"Diabetes\")\n\n\n\n\n\n\n\n\nWe observe a noticeably higher proportion of individuals without recent physical activity who have diabetes, compared to those who are physically active. Since the proportion of diabetes cases differs between the two groups, this suggests that physical activity may have predictive value in determining diabetes status.\nNow let’s look at the relationship between diabetes and high blood pressure.\n\n# HighBP vs. Diabetes\nggplot(diabetes_data, aes(x = HighBP, fill = Diabetes_binary)) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Diabetes Rate by High Blood Pressure\", x = \"High Blood Pressure\", y = \"Proportion\", fill = \"Diabetes\")\n\n\n\n\n\n\n\n\nThese proportions are extremely different, suggesting high blood pressure may be a strong predictor for diabetes.\nNow, let’s move on to modeling to see just how strong of predictors our variables are for diabetes. Click here for the Modeling Page"
  }
]